(function(n){"use strict";typeof define=="function"&&define.amd?define(["jquery","load-image","./jquery.fileupload-process"],n):typeof exports=="object"?n(require("jquery"),require("blueimp-load-image/js/load-image"),require("./jquery.fileupload-process")):n(window.jQuery,window.loadImage)})(function(n,t){"use strict";n.blueimp.fileupload.prototype.options.processQueue.unshift({action:"loadAudio",prefix:!0,fileTypes:"@",maxFileSize:"@",disabled:"@disableAudioPreview"},{action:"setAudio",name:"@audioPreviewName",disabled:"@disableAudioPreview"});n.widget("blueimp.fileupload",n.blueimp.fileupload,{options:{loadAudioFileTypes:/^audio\/.*$/},_audioElement:document.createElement("audio"),processActions:{loadAudio:function(i,r){if(r.disabled)return i;var u=i.files[i.index],e,f;return this._audioElement.canPlayType&&this._audioElement.canPlayType(u.type)&&(n.type(r.maxFileSize)!=="number"||u.size<=r.maxFileSize)&&(!r.fileTypes||r.fileTypes.test(u.type))&&(e=t.createObjectURL(u),e)?(f=this._audioElement.cloneNode(!1),f.src=e,f.controls=!0,i.audio=f,i):i},setAudio:function(n,t){return n.audio&&!t.disabled&&(n.files[n.index][t.name||"preview"]=n.audio),n}}})});