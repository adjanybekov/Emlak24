"use strict";(function(n){function l(t){var i=n(t),r;i.length&&(r=app.createPhotoSwipe(t,{}))}function a(t){var i=n(t),r=n(".widget select");i.length&&i.select2({width:"100%"});r.length&&r.select2({width:"100%"})}function v(t){var i=n(t);i.length&&i.find(".js-slick-slider").slick({dots:!1,infinite:!0,speed:300,slidesToShow:5,autoplay:!0,accessibility:!1,prevArrow:i.find(".js-partners-prev"),nextArrow:i.find(".js-partners-next"),responsive:[{breakpoint:1100,settings:{slidesToShow:4}},{breakpoint:1e3,settings:{slidesToShow:3}},{breakpoint:768,settings:{slidesToShow:1}}]})}function y(t){var i=n(t);i.length&&plyr.setup()}function p(t){var i=n(t);i.length&&i.find(".js-slick-slider").slick({dots:!0,infinite:!0,speed:800,slidesToShow:1,autoplay:!0,autoplaySpeed:5e3})}function w(t){function h(){r||app.gridSize.get()==="lg"&&requestAnimationFrame(function(){f.hasClass("navbar--overlay")&&(o.addClass("header--white"),f.addClass("navbar--overlay-map"));s.addClass("opened");u.addClass("form--white");r=!0})}var i=n(t),r;if(i.length){var u=i.find(".js-search-form"),o=n(".header"),f=n("#header-nav"),s=i.find(".map");i.addClass("banner--play");u.on("formChange",_.throttle(h,500));b(t);e(".js-map-index-canvas");r=!1}}function b(t){if(n("#banner-line").length){var i=n(t),r=i.find(".js-search-form");new app.Vivus("banner-line",{type:"async",start:"autostart",ignoreInvisible:!1,duration:50},function(){var t=n("#banner-line").closest(".slider__item");(!t.hasClass("slick-slide")||t.hasClass("slick-active"))&&(i.find(".js-arrow-end").css({opacity:1}),r.addClass("form--anim"))})}}function k(t){var i=n(t),r;if(i.length){r=i.find(".js-slick-slider");r.slick({dots:!1,infinite:!0,speed:300,slidesToShow:1,lazyLoad:"progressive",prevArrow:i.find(".js-banner-prev"),nextArrow:i.find(".js-banner-next"),responsive:[{breakpoint:1300,settings:{centerMode:!1,variableWidth:!1,arrows:!0}}]});r.on("setPosition",function(){i.addClass("slider--init")})}}function d(t){if(app.gridSize.get()!=="xs"){var i=n(t),r=i.find(".js-slick-slider");r.slick({dots:!0,infinite:!0,autoplay:!0,autoplaySpeed:3e3,speed:600,slidesToShow:1,lazyLoad:"progressive",accessibility:!1,arrows:!1,focusOnSelect:!1})}}function g(t){var u=n(t),i,r;u.length&&u.each(function(){var o=n(this),u=o.find(".js-slick-slider"),f=o.siblings(".slider"),e,s,t;i=f.find(".js-slick-slider");u.slick({dots:!1,infinite:!0,speed:300,slidesToShow:1,centerMode:!1,arrows:!1,accessibility:!1,fade:!0});r=i.html();i.slick({slidesToShow:5,slidesToScroll:1,focusOnSelect:!0,arrows:!0,accessibility:!1,centerMode:!0,centerPadding:0,prevArrow:f.find(".js-slick-prev"),nextArrow:f.find(".js-slick-next"),responsive:[{breakpoint:768,settings:{slidesToShow:3}}]});e=n(".js-slider-category");s=!0;e.on("click",function(){e.removeClass("active");n(this).addClass("active");var f,o=n(this).data("filter");i.slick("slickRemove",!0,!0,!0);f=o==="all"?r:n(r).filter(".slider__item--"+o);i.slick("slickAdd",f);t=i.find(".slick-current").data("slide-rel");u.slick("slickGoTo",t,!1)});i.on("afterChange",function(){t=i.find(".slick-current").data("slide-rel");u.slick("slickGoTo",t,!1)}).on("click",".slider__item",function(){var i=n(this);t=n(i).data("slide-rel");u.slick("slickGoTo",t,!1)})})}function nt(){var t=n("#range_area"),i=n("#range_price"),r=n(".ranged_numbers"),u=n("#range_commision"),f=n("#range_room"),e=n("#range_ui"),o=n("#range_max_num_of_people"),s=n("#range_max_income"),h=n("#range_max_age_of_children"),c=n("#range_max_age_of_people"),l=n("#range_max_num_of_children"),a=n("#duration_range"),v=n(".wt24-slider");v.length&&v.ionRangeSlider({min:0,hide_min_max:!0,hide_from_to:!1,grid:!0,force_edges:!1,step:1,max_postfix:"+",onFinish:app.rangeInputInteraction});t.length&&t.ionRangeSlider({type:"double",min:0,max:2e3,hide_min_max:!0,hide_from_to:!1,grid:!1,postfix:"m<sup>2<\/sup>",force_edges:!0,step:10,max_postfix:"+",onFinish:app.rangeInputInteraction});o.length&&o.ionRangeSlider({type:"single",min:0,max:10,hide_min_max:!0,hide_from_to:!1,grid:!1,prefix:"",force_edges:!0,max_postfix:"+",step:1,onFinish:app.rangeInputInteraction});h.length&&h.ionRangeSlider({type:"single",min:0,max:10,hide_min_max:!0,hide_from_to:!1,grid:!1,prefix:"",force_edges:!0,max_postfix:"+",step:1,onFinish:app.rangeInputInteraction});c.length&&c.ionRangeSlider({type:"single",min:0,max:120,hide_min_max:!0,hide_from_to:!1,grid:!1,prefix:"",force_edges:!0,max_postfix:"+",step:1,onFinish:app.rangeInputInteraction});l.length&&l.ionRangeSlider({type:"single",min:0,max:10,hide_min_max:!0,hide_from_to:!1,grid:!1,prefix:"",force_edges:!0,max_postfix:"+",step:1,onFinish:app.rangeInputInteraction});a.length&&a.ionRangeSlider({type:"single",min:3,max:48,hide_min_max:!0,hide_from_to:!1,grid:!1,prefix:"",force_edges:!0,max_postfix:"+",step:1,onFinish:app.rangeInputInteraction});s.length&&s.ionRangeSlider({type:"single",min:100,max:5e3,hide_min_max:!0,hide_from_to:!1,grid:!1,prefix:"&euro;",force_edges:!0,max_postfix:"+",step:1,onFinish:app.rangeInputInteraction});i.length&&i.ionRangeSlider({type:"double",min:0,max:5e6,hide_min_max:!0,hide_from_to:!1,grid:!1,prefix:"&euro;",force_edges:!0,max_postfix:"+",step:1e3,onFinish:app.rangeInputInteraction});r.length&&r.each(function(){n(this).ionRangeSlider({type:"double",hide_min_max:!0,hide_from_to:!1,grid:!0,prefix:"",force_edges:!1,max_postfix:"+",step:1,prettify_enabled:!1,keyboard:!0,onFinish:app.rangeInputInteraction})});f.length&&f.ionRangeSlider({type:"double",min:0,max:10,from:0,to:10,hide_min_max:!0,hide_from_to:!1,grid:!1,max_postfix:"+",onFinish:app.rangeInputInteraction});u.length&&u.ionRangeSlider({type:"double",min:0,max:1e4,from:0,to:1e4,hide_min_max:!0,hide_from_to:!1,grid:!1,max_postfix:"+",prefix:"RM ",onFinish:app.rangeInputInteraction});e.length&&e.ionRangeSlider({type:"double",min:1e3,max:2e3,from:1200,to:1800,hide_min_max:!0,hide_from_to:!1,grid:!1,onFinish:app.rangeInputInteraction})}function i(t){var i=n(t);i.length&&i.each(function(){var t=n(this),i=t.find(".js-slick-current"),r=t.find(".js-slick-total");t.find(".js-slick-slider").on("init",function(n,t){r.html(t.slideCount)}).slick({dots:!1,infinite:!0,speed:300,slidesToShow:1,centerMode:!1,prevArrow:t.find(".js-slick-prev"),nextArrow:t.find(".js-slick-next")}).on("afterChange",function(n,t,r){i.html(r+1+" /")})})}function tt(t){var i=n(t);if(i.length)i.on("click",function(){var t=n(this),i=t.data("state")||"success";return t.addClass("loading"),setTimeout(function(){t.addClass("progress")},500),setTimeout(function(){t.removeClass("loading");t.removeClass("progress");t.addClass(i)},1e3),!1})}function e(i,r){var u=n(i),f;u.length&&(f=[],requestAnimationFrame(function(){app.createMap(u,n(".js-map-btn"),function(){var n=new google.maps.Map(u[0],t);f=[];_.each(r,function(t){var i=ut(t),r=app.createGmapInfoboxMarker(n,new google.maps.LatLng(t.lat,t.lng),t.address,i,u.data("infoboxTheme"));f.push(r)});app.createGmapClustering(n,f)})}))}function it(t){var i=n(t);i.length&&i.popover()}function f(i){var r=n(i),f,u;r.length&&(f=n(".js-map-btn"),u=r.find(".js-map"),app.createMap(u,f,function(){function s(n){i?i.setPosition(n):c(n.lat(),n.lng());y(n.lat(),n.lng());v(n)}function v(n){a.geocode({latLng:n},function(n,t){o[0].value=t===google.maps.GeocoderStatus.OK?n[0]?n[0].formatted_address:"No results":t})}function w(){var n=h.getPlace(),t;n.geometry?(e.panTo(n.geometry.location),e.setZoom(15),i?(t=new google.maps.LatLng(n.geometry.location.lat(),n.geometry.location.lng()),i.setPosition(t)):c(n.geometry.location.lat(),n.geometry.location.lng()),y(n.geometry.location.lat(),n.geometry.location.lng())):h.placeholder="Enter a address"}function c(n,t){var r=new google.maps.LatLng(n,t);i=app.createGmapMarker.createAdvanced({position:r,map:e,draggable:!0});google.maps.event.addListener(i,"dragend",function(){s(i.getPosition())})}function y(n,t){f[0].value=n;f[1].value=t}function b(){for(var n,t=0;t<n.length;t++)n[t].overlay.setMap(null);n=[]}var e,i,a,o=r.find(".js-autocomplete"),f=r.find(".js-location-coords"),p=r.find(".js-remove-overlays"),h,l;a=new google.maps.Geocoder;t.zoom=15;e=new google.maps.Map(u[0],t);n.isNumeric(f[0].value)&&n.isNumeric(f[1].value)&&(t.center=new google.maps.LatLng(f[0].value,f[1].value),e.panTo(t.center),s(t.center),i?i.setPosition(t.center):c(t.center));google.maps.event.addListener(e,"click",function(n){s(n.latLng)});app.geolocation.activate(e,{buttonTrigger:r.find(".js-geolocate"),onSuccess:function(n){s(n)}});h=new google.maps.places.Autocomplete(o[0],t.autocomplete);google.maps.event.addListener(h,"place_changed",w);o.on("keypress",function(n){if(n.keyCode===13)return!1});l=new google.maps.drawing.DrawingManager({drawingControl:!0,drawingControlOptions:{position:google.maps.ControlPosition.TOP_RIGHT,drawingModes:[google.maps.drawing.OverlayType.POLYGON]}});!1||l.setMap(e);google.maps.event.addListener(l,"overlaycomplete",function(n){overlays.push(n)});f.on("input",function(t){if(n.isNumeric(f[0].value())&&n.isNumeric(f[1].value())){var r=new google.maps.LatLng(f[0].value(),f[1].value());if(i?i.setPosition(r):c(r.lat(),r.lng()),e.panTo(r),v(r),t.keyCode===13)return!1}});p.on("click",function(){b()})}))}function rt(i,r){var o={lat:n(i).data("lat"),lng:n(i).data("lng"),address:n(i).data("address"),image:n(i).data("image"),type:n(i).data("property-type"),area:n(i).data("area"),price:n(i).data("price")},u=n(i),f=n(r),l;if(u.length&&f){var s=new google.maps.LatLng(o.lat,o.lng),h=n(".js-map-btn"),c=n(".js-panorama-btn"),e;app.createMap(u,h,function(){var n=new google.maps.Map(u[0],_.merge(t,{zoom:7,coordinates:s})),i=ft(o);app.createGmapInfoboxMarker(n,s,o.address,i,u.data("infoboxTheme"))});app.createMap(f,c,function(){var n=new google.maps.StreetViewPanorama(f[0],{position:s,pov:{heading:34,pitch:10},zoomControl:!0,zoomControlOptions:{position:google.maps.ControlPosition.RIGHT_CENTER},panControl:!0,panControlOptions:{position:google.maps.ControlPosition.RIGHT_TOP}})});e=h.add(c).filter(".active");l=function(t){e&&e.removeClass("active");e=n(t);e.addClass("active")};h.on("click",function(){app.gridSize.get()!=="xs"&&(l(this),f.css({zIndex:5}),u.css({zIndex:10}))});c.on("click",function(){app.gridSize.get()!=="xs"&&(l(this),f.css({zIndex:10}),u.css({zIndex:5}))})}}function ut(n){var t;return t="en/Image/GetImage/"+n.image,"<span class='map__address'>"+n.address+"<\/span> <span class='map__info'><img class='map__photo' src='"+t+"'/><span class='map__details'> <dl><dt>Type:<\/dt> <dd>"+n.type+"<\/dd><\/dl><dl><dt>Area:<\/dt> <dd>"+n.area+" m<sup>2<\/sup><\/dd><\/dl><\/span><\/span> <span class='map__price'><strong>$"+n.price+"<\/strong><\/span> <a  class='map__more' href='"+n.detailUrl+"'>Details<\/a>"}function ft(n){var t;return t="/en/Image/GetImage/"+n.image,"<span class='map__address'>"+n.address+"<\/span> <span class='map__info'><img  class='map__photo' src='"+t+"'/><span class='map__details'> <dl><dt>Type:<\/dt> <dd>"+n.type+"<\/dd><\/dl><dl><dt>Area:<\/dt> <dd>"+n.area+" m<sup>2<\/sup><\/dd><\/dl><\/span><\/span> <span class='map__price'><strong>$"+n.price+"<\/strong><\/span>"}function o(t){var u=n(t).data("on-id-to-show"),f=n(t).data("on-class-to-show"),e=n(t).data("off-id-to-show"),o=n(t).data("off-class-to-show"),i=n(t).prop("checked");u&&r("#",u,!i);f&&r(".",f,!i);e&&r("#",e,i);o&&r(".",o,i)}function r(t,i,r){n(t+i).children().length>0?n(t+i+" :input").prop("disabled",r):n(t+i).prop("disabled",r);r?n(t+i).hide("slow"):n(t+i).show("slow")}function h(t,i){var r=[],u=n(t).closest(".js-select-checkboxes"),f;n(u).find(".in-checkbox:checked").each(function(){var t=n("label[for='"+this.id+"']"),i=t.text();r.length<1||!u.data("single-select")?r.push(i):(swal("err","choose one"),n(this).attr("checked",!1))});f=r.join(", ")||n(i).data("placeholder");n(i).text(f)}function c(){var t=n(".js-search-form"),i=t.find(".js-select-checkboxes");i.each(function(){var i=n(this),t=n(this).prev(".js-select-checkboxes-btn");h(this,t);i.find(".in-checkbox").change(function(){h(this,t)})})}var t,s,u;app.initTheme({colorTheme:"blue-orange_red",loadSvgWithAjax:!0});app.activateHeaderSpy();app.activateScrollToTopSpy();app.scrollAnimation();t={zoom:7,center:new google.maps.LatLng(50.1231277,8.4964826),scrollwheel:!1,zoomControl:!0,mapTypeControl:!0,autocomplete:{},mapTypeControlOptions:{position:google.maps.ControlPosition.LEFT_TOP},zoomControlOptions:{position:google.maps.ControlPosition.RIGHT_CENTER},scaleControl:!0,scaleControlOptions:{position:google.maps.ControlPosition.RIGHT_TOP},panControl:!0,panControlOptions:{position:google.maps.ControlPosition.RIGHT_TOP}};n("#map-container").length&&n.ajax({type:"POST",contentType:"application/json; charset=utf-8",url:"/en/Property/GetProperties",dataType:"json",success:function(n){e(".js-map-index-canvas",n)}});y(".player");v("#partners-slider");a("select.form-control");l(".js-gallery-item");p("#review-slider");w(".js-banner");k("#slider-wide");d(".js-banner-slider");g(".js-slider-thumbs");nt();i(".js-slick-blog");i(".js-slick-plan");i("#counter-slider");i("#properties-banner");tt(".js-btn-demo");it(".js-popover");f(".js-map-location-dashboard-submit",{lat:37.7749295,lng:-122.41941550000001});f(".js-map-location-dashboard",{lat:37.7749295,lng:-122.41941550000001});f(".js-map-location-dashboard-hidden",{lat:37.7749295,lng:-122.41941550000001});rt('.js-map-canvas[data-type="map"]','.js-map-canvas[data-type="panorama"]');n(".datetimepicker").length&&n(function(){n(".datetimepicker").datetimepicker({locale:n(this).data("date-lacale")})});n(function(){n('[data-toggle="tooltip"]').tooltip()});n(function(){n('input[data-toggle="toggle"]').each(function(){o(this)})});n(function(){n('input[data-toggle="toggle"]').change(function(){o(this)})});n(".wt24-link-confirmation").click(function(t){t.preventDefault();var i=n(this).data("link");swal({title:n(this).data("title"),text:n(this).data("text"),type:"info",showCancelButton:!0,closeOnConfirm:!1,showLoaderOnConfirm:!0},function(){return window.location.href=i})});c();s=n(".wt24-location-selection");s.each(function(){var t=n(this);t.change(function(){var i=n("#"+t.data("loading-element-container")),r;if(i.addClass("loading-overlay"),!n(this).val()){i.removeClass("loading-overlay");return}r=n.ajax({url:"/en/Locations/GetLocationLevelTree",method:"GET",data:{id:n(this).val()},contentType:"application/json",dataType:"html"});r.done(function(r){var u=n("#"+t.data("target-div"));u.html(r);u.bonsai("update");i.removeClass("loading-overlay");c()});r.fail(function(n,t){alert("Request failed: "+t);i.removeClass("loading-overlay")})})});n(".js-select-checkboxes-reset").on("click",function(){var i=n(this),t=i.closest(".js-select-checkboxes");t.find('input[type="checkbox"]').prop({checked:!1,indeterminate:!1});t.find('input[type="checkbox"]').first().trigger("change")});n(".js-select-checkboxes-accept").on("click",function(){var t=n(this),i=t.closest(".js-select-checkboxes");i.closest(".dropdown").removeClass("open")});n(".js-form-reset").on("click",function(){$inputsText.val("");$inputsTextArea.text("");$inputsSelect.each(function(t,i){n(i).find("option").removeAttr("selected");n(i).trigger("change")});$inputsCheckbox.prop({checked:!1,indeterminate:!1});$selectCheckboxesDropdown.each(function(t,i){n(i).find('input[type="checkbox"]').first().trigger("change")});$rangeSliders.each(function(t,i){var r=n(i).data("ionRangeSlider");r.reset()})});n("body").on("click",".js-dropdown-menu",function(n){n.stopPropagation()});u=n(".js-checkboxes-tree");u.length&&(u.bonsai(),u.qubit())})(jQuery);